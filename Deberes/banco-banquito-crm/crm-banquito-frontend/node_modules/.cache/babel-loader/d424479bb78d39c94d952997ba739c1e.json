{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/esteban/Documents/ESPE/Octavo Semestre/Arquitectura de Software/crm-banquito-frontend-project/crm-banquito-frontend-git/crm-banquito-frontend/src/Client/AddClientModal.js\";\nimport React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Datepic from \"../CustomComponents/DatePicker/DatePic\";\nimport * as Constants from '../constants';\nimport CustomSelect from '../CustomComponents/CustomSelect';\n\nclass AddClientModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      console.log(e);\n      let change = {};\n      change = this.state.client;\n      change[e.target.name] = e.target.value;\n      this.setState({\n        client: change\n      });\n\n      if ([e.target.name] == \"identification\") {\n        this.validateIdentification(e.target.value);\n      }\n    };\n\n    this.handleDateChange = e => {\n      console.log(e);\n      let change = {};\n      change = this.state.client;\n      change[\"birthdate\"] = e;\n      this.setState({\n        client: change\n      });\n    };\n\n    this.handleProvinceChange = e => {\n      let tempClient = this.state.client;\n      tempClient.birthProvince = e.label;\n      this.setState({\n        province: {\n          id: e.value,\n          name: e.label\n        },\n        client: tempClient\n      }, function () {\n        this.filterCantons(e.value);\n      });\n      console.log(this.state);\n    };\n\n    this.handleCantonChange = e => {\n      let tempClient = this.state.client;\n      tempClient.birthCanton = e.label;\n      this.setState({\n        canton: {\n          id: e.value,\n          name: e.label\n        },\n        client: tempClient\n      });\n      console.log(this.state);\n    };\n\n    this.state = {\n      client: {\n        identification: \"\",\n        name: \"\",\n        surname: \"\",\n        birthdate: new Date(),\n        genre: \"\",\n        birthProvince: \"\",\n        birthCanton: \"\",\n        balanceAccount: 0,\n        balanceLoan: 0\n      },\n      province: {\n        id: \"\",\n        name: \"\"\n      },\n      canton: {\n        id: \"\",\n        name: \"\"\n      },\n      provinces: [],\n      cantons: [],\n      valid: false\n    };\n    this.saveClient = this.saveClient.bind(this);\n  }\n\n  saveClient() {\n    let formatedClient = {};\n    formatedClient = this.state.client;\n    formatedClient[\"birthdate\"] = this.state.client.birthdate.toISOString();\n    fetch(Constants.CLIENTS_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(formatedClient)\n    }).then(response => {\n      console.log(formatedClient);\n      return response.json();\n    }).then(data => {\n      this.setState({\n        client: {\n          identification: \"\",\n          name: \"\",\n          surname: \"\",\n          birthdate: new Date(),\n          genre: \"\",\n          birthProvince: \"\",\n          birthCanton: \"\",\n          balanceAccount: 0,\n          balanceLoan: 0\n        }\n      });\n      this.props.onHide();\n      this.props.getClients();\n      this.props.setAlertState(true);\n      this.props.showAlert(); //success adding client\n    }).catch(e => {\n      console.log(e);\n      this.props.setAlertState(false);\n    });\n  }\n\n  validateIdentification(id) {\n    console.log(id);\n    var total = 0;\n    var lenght = id.length;\n    var longcheck = lenght - 1;\n\n    if (id !== \"\" && lenght === 10) {\n      for (var i = 0; i < longcheck; i++) {\n        if (i % 2 === 0) {\n          var aux = id.charAt(i) * 2;\n          if (aux > 9) aux -= 9;\n          total += aux;\n        } else {\n          total += parseInt(id.charAt(i));\n        }\n      }\n\n      total = total % 10 ? 10 - total % 10 : 0;\n\n      if (id.charAt(lenght - 1) == total) {\n        this.setState({\n          valid: true\n        });\n      } else {\n        this.setState({\n          valid: false\n        });\n      }\n    } else {\n      this.setState({\n        valid: false\n      });\n    }\n  }\n\n  getProvinces() {\n    fetch(Constants.PROVINCE_URL, {\n      method: \"GET\"\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      const provinces = data.map(d => ({\n        \"value\": d.id,\n        \"label\": d.province\n      }));\n      this.setState({\n        provinces\n      });\n    });\n  }\n\n  getCantons() {\n    fetch(Constants.CANTON_URL, {\n      method: \"GET\"\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      const cantons = data.map(d => ({\n        \"value\": d.id,\n        \"label\": d.canton\n      }));\n      this.setState({\n        cantons\n      });\n    });\n  }\n\n  filterCantons(provinceId) {\n    console.log(provinceId);\n    fetch(Constants.CANTON_URL, {\n      method: \"GET\",\n      headers: {\n        where: {\n          provinceId: provinceId\n        }\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      let filteredDate = data.filter(element => element.provinceId == provinceId);\n      const cantons = filteredDate.map(d => ({\n        \"value\": d.id,\n        \"label\": d.canton\n      }));\n      this.setState({\n        cantons\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Modal, { ...this.props,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          children: \"Nuevo Cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Ingrese los datos del cliente a ingresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                sm: 12,\n                className: \"my-1\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  htmlFor: \"inlineFormInputGroupUsername\",\n                  srOnly: true,\n                  children: \"Cedula\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                    children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      children: \"Cedula\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    name: \"identification\",\n                    onChange: this.handleInputChange,\n                    value: this.state.client.identification,\n                    placeholder: \"Ingrese una cedula valida\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                className: \"my-1\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  htmlFor: \"inlineFormInputGroupUsername\",\n                  srOnly: true,\n                  children: \"Nombre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                    children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      children: \"Nombre\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    name: \"name\",\n                    onChange: this.handleInputChange,\n                    value: this.state.client.name,\n                    placeholder: \"Ingrese el nombre del cliente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                className: \"my-1\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  htmlFor: \"inlineFormInputGroupUsername\",\n                  srOnly: true,\n                  children: \"Apellido\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                    children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      children: \"Apellido\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    name: \"surname\",\n                    onChange: this.handleInputChange,\n                    value: this.state.client.surname,\n                    placeholder: \"Ingrese el apellido del cliente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                className: \"my-1\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  htmlFor: \"inlineFormInputGroupUsername\",\n                  srOnly: true,\n                  children: \"F. Nacimiento\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                    children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      children: \"F. Nacimiento\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Datepic, {\n                    dateSelected: this.state.client.birthdate,\n                    onChange: this.handleDateChange.bind(this),\n                    placeholderText: \"Seleccione la fecha de nacimiento\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                className: \"my-1\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  htmlFor: \"inlineFormInputGroupUsername\",\n                  srOnly: true,\n                  children: \"Genero\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                    children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      children: \"Genero\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    className: \"my-1 mr-sm-2\",\n                    custom: true,\n                    value: this.state.client.genre,\n                    onChange: this.handleInputChange,\n                    name: \"genre\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"0\",\n                      children: \"Seleccione el genero...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"H\",\n                      children: \"Masculino\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"M\",\n                      children: \"Femenino\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                className: \"my-1\",\n                children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n                  placeholder: \"Provincia\",\n                  selectOptions: this.state.provinces,\n                  onChange: this.handleProvinceChange.bind(this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                className: \"my-1\",\n                children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n                  placeholder: \"Canton\",\n                  selectOptions: this.state.cantons,\n                  onChange: this.handleCantonChange.bind(this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          disabled: !this.state.valid,\n          variant: \"primary\",\n          onClick: this.saveClient,\n          children: \"Agregar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: this.props.onHide,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this);\n  }\n\n  componentDidMount() {\n    this.getProvinces();\n  }\n\n}\n\nexport default AddClientModal;","map":{"version":3,"sources":["/home/esteban/Documents/ESPE/Octavo Semestre/Arquitectura de Software/crm-banquito-frontend-project/crm-banquito-frontend-git/crm-banquito-frontend/src/Client/AddClientModal.js"],"names":["React","Modal","Button","Form","Col","InputGroup","FormControl","Datepic","Constants","CustomSelect","AddClientModal","Component","constructor","props","handleInputChange","e","console","log","change","state","client","target","name","value","setState","validateIdentification","handleDateChange","handleProvinceChange","tempClient","birthProvince","label","province","id","filterCantons","handleCantonChange","birthCanton","canton","identification","surname","birthdate","Date","genre","balanceAccount","balanceLoan","provinces","cantons","valid","saveClient","bind","formatedClient","toISOString","fetch","CLIENTS_URL","method","headers","body","JSON","stringify","then","response","json","data","onHide","getClients","setAlertState","showAlert","catch","total","lenght","length","longcheck","i","aux","charAt","parseInt","getProvinces","PROVINCE_URL","map","d","getCantons","CANTON_URL","provinceId","where","filteredDate","filter","element","render","componentDidMount"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Datepic from \"../CustomComponents/DatePicker/DatePic\";\nimport * as Constants from '../constants';\nimport CustomSelect from '../CustomComponents/CustomSelect';\n\nclass AddClientModal extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            client: {\n                identification: \"\",\n                name: \"\",\n                surname: \"\",\n                birthdate: new Date(),\n                genre: \"\",\n                birthProvince: \"\",\n                birthCanton: \"\",\n                balanceAccount: 0,\n                balanceLoan: 0\n            },\n            province: {\n                id: \"\",\n                name: \"\"\n            },\n            canton: {\n                id: \"\",\n                name: \"\"\n            },\n            provinces: [],\n            cantons: [],\n            valid: false\n        }\n        this.saveClient = this.saveClient.bind(this)\n    }\n\n    saveClient() {\n        let formatedClient = {};\n        formatedClient = this.state.client;\n        formatedClient[\"birthdate\"] = this.state.client.birthdate.toISOString();\n        fetch(Constants.CLIENTS_URL, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify(formatedClient)\n        }).then((response) => {\n            console.log(formatedClient)\n            return response.json();\n        }).then(data => {\n            this.setState({\n                client: {\n                    identification: \"\",\n                    name: \"\",\n                    surname: \"\",\n                    birthdate: new Date(),\n                    genre: \"\",\n                    birthProvince: \"\",\n                    birthCanton: \"\",\n                    balanceAccount: 0,\n                    balanceLoan: 0\n                }\n            })\n            this.props.onHide()\n            this.props.getClients()\n            this.props.setAlertState(true)\n            this.props.showAlert()\n            //success adding client\n        }).catch(e => {\n            console.log(e)\n            this.props.setAlertState(false)\n        })\n    }\n\n    validateIdentification(id) {\n        console.log(id)\n        var total = 0;\n        var lenght = id.length;\n        var longcheck = lenght - 1;\n\n        if (id !== \"\" && lenght === 10){\n            for(var i = 0; i < longcheck; i++){\n                if (i%2 === 0) {\n                var aux = id.charAt(i) * 2;\n                if (aux > 9) aux -= 9;\n                total += aux;\n                } else {\n                total += parseInt(id.charAt(i));\n                }\n            }\n\n            total = total % 10 ? 10 - total % 10 : 0;\n\n            if (id.charAt(lenght-1) == total) {\n                this.setState({valid: true})\n            }else{\n                this.setState({valid: false})\n            }\n        }else{\n            this.setState({valid: false})\n        }\n\n\n    }\n\n    handleInputChange = e => {\n        console.log(e)\n        let change = {}\n        change = this.state.client\n        change[e.target.name] = e.target.value\n        this.setState({\n            client: change\n        })\n        if([e.target.name] == \"identification\"){\n            this.validateIdentification(e.target.value)\n        }\n    }\n\n    handleDateChange = e => {\n        console.log(e)\n        let change = {}\n        change = this.state.client\n        change[\"birthdate\"] = e\n        this.setState({\n            client: change\n        })\n    }\n\n    getProvinces() {\n        fetch(Constants.PROVINCE_URL, {\n            method: \"GET\"\n        }).then(response => {\n            return response.json()\n        }).then(data => {\n            const provinces = data.map(d => ({\n                \"value\" : d.id,\n                \"label\" : d.province\n            }))\n            this.setState({\n                provinces\n            })\n        })\n    }\n\n    getCantons() {\n        fetch(Constants.CANTON_URL, {\n            method: \"GET\",\n        }).then(response => {\n            return response.json()\n        }).then(data => {\n            const cantons = data.map(d => ({\n                \"value\" : d.id,\n                \"label\" : d.canton\n            }))\n            this.setState({\n                cantons\n            })\n        })\n    }\n\n    filterCantons(provinceId) {\n        console.log(provinceId)\n        fetch(Constants.CANTON_URL, {\n            method: \"GET\",\n            headers: {\n                where: {\n                    provinceId: provinceId\n                }\n            }\n        }).then(response => {\n            return response.json()\n        }).then(data => {\n            console.log(data)\n            let filteredDate = data.filter(element => element.provinceId == provinceId);\n            const cantons = filteredDate.map(d => ({\n                \"value\" : d.id,\n                \"label\" : d.canton\n            }))\n            this.setState({\n                cantons\n            })\n        })\n    }\n\n    handleProvinceChange = e => {\n        let tempClient = this.state.client\n        tempClient.birthProvince = e.label\n        this.setState({\n            province: {\n                id: e.value,\n                name: e.label\n            },\n            client: tempClient\n        }, function() {\n            this.filterCantons(e.value)\n        })\n        console.log(this.state)\n    } \n\n    handleCantonChange = e => {\n        let tempClient = this.state.client\n        tempClient.birthCanton = e.label\n        this.setState({\n            canton: {\n                id: e.value,\n                name: e.label\n            },\n            client: tempClient\n        })\n        console.log(this.state)\n    } \n\n    render() {\n        return(\n            <Modal {...this.props} size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered>\n                <Modal.Header closeButton>\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\n                        Nuevo Cliente\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <h4>Ingrese los datos del cliente a ingresar</h4>\n                    <p>\n                    <Form>\n                        <Form.Row className=\"align-items-center\">\n                            <Col sm={12} className=\"my-1\">\n                                <Form.Label htmlFor=\"inlineFormInputGroupUsername\" srOnly>\n                                    Cedula\n                                </Form.Label>\n                                <InputGroup>\n                                    <InputGroup.Prepend>\n                                        <InputGroup.Text>Cedula</InputGroup.Text>\n                                    </InputGroup.Prepend>\n                                    <FormControl name=\"identification\" onChange={this.handleInputChange} value={this.state.client.identification} placeholder=\"Ingrese una cedula valida\" />\n                                </InputGroup>\n                            </Col>\n                        </Form.Row>\n                        <br></br>\n                        <Form.Row className=\"align-items-center\">\n                            <Col sm={6} className=\"my-1\">\n                                <Form.Label htmlFor=\"inlineFormInputGroupUsername\" srOnly>\n                                    Nombre\n                                </Form.Label>\n                                <InputGroup>\n                                    <InputGroup.Prepend>\n                                        <InputGroup.Text>Nombre</InputGroup.Text>\n                                    </InputGroup.Prepend>\n                                    <FormControl name=\"name\" onChange={this.handleInputChange} value={this.state.client.name} placeholder=\"Ingrese el nombre del cliente\" />\n                                </InputGroup>\n                            </Col>\n                            <Col sm={6} className=\"my-1\">\n                                <Form.Label htmlFor=\"inlineFormInputGroupUsername\" srOnly>\n                                    Apellido\n                                </Form.Label>\n                                <InputGroup>\n                                    <InputGroup.Prepend>\n                                        <InputGroup.Text>Apellido</InputGroup.Text>\n                                    </InputGroup.Prepend>\n                                    <FormControl name=\"surname\" onChange={this.handleInputChange} value={this.state.client.surname} placeholder=\"Ingrese el apellido del cliente\" />\n                                </InputGroup>\n                            </Col>\n                        </Form.Row>\n                        <br></br>\n                        <Form.Row>\n                            <Col sm={6} className=\"my-1\">\n                                <Form.Label htmlFor=\"inlineFormInputGroupUsername\" srOnly>\n                                    F. Nacimiento\n                                </Form.Label>\n                                <InputGroup>\n                                    <InputGroup.Prepend>\n                                        <InputGroup.Text>F. Nacimiento</InputGroup.Text>\n                                    </InputGroup.Prepend>\n                                    <Datepic dateSelected={this.state.client.birthdate} onChange={this.handleDateChange.bind(this)} placeholderText=\"Seleccione la fecha de nacimiento\" /> \n                                </InputGroup>\n                            </Col>\n                            <Col sm={6} className=\"my-1\">\n                                <Form.Label htmlFor=\"inlineFormInputGroupUsername\" srOnly>\n                                    Genero\n                                </Form.Label>\n                                <InputGroup>\n                                    <InputGroup.Prepend>\n                                        <InputGroup.Text>Genero</InputGroup.Text>\n                                    </InputGroup.Prepend>\n                                    <Form.Control\n                                        as=\"select\"\n                                        className=\"my-1 mr-sm-2\"\n                                        custom\n                                        value={this.state.client.genre}\n                                        onChange={this.handleInputChange}\n                                        name=\"genre\">\n                                        <option value=\"0\">Seleccione el genero...</option>\n                                        <option value=\"H\">Masculino</option>\n                                        <option value=\"M\">Femenino</option>\n                                    </Form.Control>\n                                </InputGroup>\n                            </Col>\n                        </Form.Row>\n                        <br></br>\n                        <Form.Row className=\"align-items-center\">\n                            <Col sm={6} className=\"my-1\">\n                                <CustomSelect placeholder=\"Provincia\" selectOptions={this.state.provinces} onChange={this.handleProvinceChange.bind(this)} />\n                            </Col>\n                            <Col sm={6} className=\"my-1\">\n                                <CustomSelect placeholder=\"Canton\" selectOptions={this.state.cantons} onChange={this.handleCantonChange.bind(this)} />\n                            </Col>\n                        </Form.Row>\n                    </Form>\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button disabled={!this.state.valid} variant=\"primary\" onClick={this.saveClient}>Agregar</Button>\n                    <Button variant=\"danger\" onClick={this.props.onHide}>Cancelar</Button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n\n    componentDidMount() {\n        this.getProvinces()\n    }\n}\n\nexport default AddClientModal;"]},"metadata":{},"sourceType":"module"}